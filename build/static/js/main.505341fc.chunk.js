(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/loadingGif.6fc6d982.gif"},function(e,a,t){e.exports=t(30)},,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(9),c=t.n(l);t(19),t(20),t(21),t(22);var s=e=>{let{article:a}=e;return r.a.createElement("div",{className:"news-card"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:a.urlToImage,alt:"news",className:"news-image"}),r.a.createElement("div",{className:"reading-time"},Math.ceil(a.content.split(" ").length/200)," min read"),r.a.createElement("div",{className:"title-author"},r.a.createElement("h3",{className:"title"},a.title),r.a.createElement("p",{className:"author"},a.author||"Unknown Author"))),r.a.createElement("p",{className:"date"},new Date(a.publishedAt).toLocaleDateString()),r.a.createElement("p",{className:"description"},a.description))},o=t(32);const i="d593ddb8948044f19574d4e5e89fc169",u=async function(){let{keyword:e="",date:a="",category:t="",source:n="bbc-news"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await o.a.get("https://newsapi.org/v2/everything",{params:{apiKey:i,q:e,from:a,to:a,category:t,sources:n}})).data.articles.filter(e=>null!==e.urlToImage&&""!==e.urlToImage&&null!==e.author&&null!==e.description)}catch(r){return console.error("Error fetching News:",r),[]}};t(27),t(28);var m=e=>{let{handleSearch:a,value:t}=e;return r.a.createElement("button",{onClick:a,className:"search-button"},t)};var d=e=>{let{handleSearch:a}=e;const[t,l]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[d,h]=Object(n.useState)("");return r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{type:"text",placeholder:"Search by keyword",value:t,onChange:e=>l(e.target.value),className:"search-input"}),r.a.createElement("input",{type:"date",value:c,onChange:e=>s(e.target.value),className:"date-input"}),r.a.createElement("select",{value:o,onChange:e=>i(e.target.value),className:"select-input"},r.a.createElement("option",{value:""},"All Categories"),r.a.createElement("option",{value:"business"},"Business"),r.a.createElement("option",{value:"health"},"Health"),r.a.createElement("option",{value:"science"},"Science"),r.a.createElement("option",{value:"sports"},"Sports"),r.a.createElement("option",{value:"technology"},"Technology")),r.a.createElement("select",{value:d,onChange:e=>h(e.target.value),className:"select-input"},r.a.createElement("option",{value:"bbc-news"},"BBC News"),r.a.createElement("option",{value:"cnn"},"CNN"),r.a.createElement("option",{value:"the-verge"},"The Verge")),r.a.createElement(m,{handleSearch:async()=>{try{await u({keyword:t,date:c,category:o,source:d}).then(a)}catch(e){console.error("Error fetching news:",e),a([])}},value:"Search"}),"\xa0")},h=t(10),g=t.n(h);t(29);const p=["BBC News","CNN","The Verge"],E=["Business","Entertainment","Technology","Sports"],v=["Sarah Turnnidge","Federica Bedendo","Zac Sherratt","Paul Kirby"],b=e=>{let{label:a,handlePersonalizedFeedChange:t}=e;return r.a.createElement("label",{className:"filter-checkbox"},r.a.createElement("input",{type:"checkbox",name:a.toLowerCase(),onChange:t}),a)},y=e=>{let{title:a,data:t,setData:l}=e;const c=Object(n.useCallback)(e=>{const{name:a,checked:t}=e.target;l(e=>t?[...e,a]:e.filter(e=>e!==a))},[l]);return r.a.createElement("div",{className:"filter-block"},r.a.createElement("h3",null,a),t.map((e,a)=>r.a.createElement(b,{key:a,label:e,handlePersonalizedFeedChange:c})))};var N=e=>{let{handlePersonalizedNewsFeed:a}=e;const[t,l]=Object(n.useState)([]),[c,s]=Object(n.useState)([]),[o,i]=Object(n.useState)([]),u=Object(n.useCallback)(()=>{a({sources:t,categories:c,authors:o})},[t,c,o,a]);return r.a.createElement("aside",{className:"personalized-feed"},r.a.createElement("h2",null,"Personalized News Feed"),r.a.createElement("p",null,"Select your preferred sources, categories, and authors:"),r.a.createElement("div",{className:"filter-options"},r.a.createElement(y,{title:"Sources",data:p,setData:l}),r.a.createElement(y,{title:"Categories",data:E,setData:s}),r.a.createElement(y,{title:"Authors",data:v,setData:i})),r.a.createElement(m,{className:"search-button",handleSearch:u,value:"Personalized Feed"}))},f=t(11),w=t.n(f);var S=()=>{const[e,a]=Object(n.useState)([]),[t,l]=Object(n.useState)(!0),[c,m]=Object(n.useState)(0),[h]=Object(n.useState)(8);Object(n.useEffect)(()=>{(async()=>{l(!0);try{await u().then(a)}catch(e){a([]),console.error("Error fetching news:",e)}finally{l(!1)}})()},[]);const p=Array.isArray(e)?e.slice(c*h,(c+1)*h):[];return r.a.createElement("div",{className:"app-container"},r.a.createElement(N,{handlePersonalizedNewsFeed:async e=>{l(!0);try{await(async e=>{try{return(await o.a.get("https://newsapi.org/v2/everything",{params:{apiKey:i,sources:e.sources.join(","),categories:e.categories.join(","),authors:e.authors.join(",")}})).data.articles.filter(e=>null!==e.urlToImage&&""!==e.urlToImage&&null!==e.author&&null!==e.description)}catch(a){console.error("Error fetching the personalized news feed:",a)}})(e).then(a)}catch(t){console.error("Error fetching news:",t),a([])}finally{l(!1)}}}),r.a.createElement("div",{className:"main-content"},r.a.createElement(d,{handleSearch:async e=>{a(e)}}),r.a.createElement("div",{className:"news-container"},t?r.a.createElement("img",{src:w.a,alt:"Loading",className:"loading-gif"}):p.length>0?p.map((e,a)=>r.a.createElement(s,{key:a,article:e})):r.a.createElement("div",{className:"toast-warning"},r.a.createElement("p",null,"No data found."))),r.a.createElement(g.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:Array.isArray(e)?Math.ceil(e.length/h):0,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{let{selected:a}=e;m(a)},containerClassName:"pagination",activeClassName:"active"})))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))};var j=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,33)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:c}=a;t(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null))),j()}],[[12,1,2]]]);
//# sourceMappingURL=main.505341fc.chunk.js.map